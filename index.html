<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Birthday Surprise</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: #ffe6f0;
      font-family: 'Comic Sans MS', cursive;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      min-height: 100vh;
      padding: 20px;
    }

    h1,
    h2 {
      margin: 0;
      padding: 0;
    }

    #countdownTitle {
      font-size: 2.5em;
      color: #c71585;
      margin-bottom: 10px;
    }

    #countdown {
      font-size: 5em;
      color: #ff4081;
      margin-bottom: 30px;
    }

    #surpriseBtn {
      font-size: 1.5em;
      padding: 12px 25px;
      cursor: pointer;
      background: #ff4081;
      border: none;
      color: white;
      border-radius: 10px;
      animation: pulse 1.5s infinite;
      display: none;
    }

    #surpriseBtn:hover {
      background-color: #e73370;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    #birthdayMessage {
      color: #c71585;
      width: 100%;
      max-width: 800px;
      margin: auto;
    }

    #birthdayMessage h1 {
      font-size: 3em;
      margin-bottom: 10px;
    }

    #birthdayMessage h2 {
      font-size: 1.5em;
      margin-bottom: 20px;
    }

    #birthdayMessage p {
      font-size: 1.1em;
      line-height: 1.7;
      background: #fff;
      border: 3px dashed #c06c84;
      padding: 1.5rem;
      box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.15);
      position: relative;
      opacity: 0;
      margin: auto;
      width: 100%;
    }

    #birthdayMessage p::before {
      content: '';
      position: absolute;
      top: -10px;
      left: -10px;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(45deg,
          transparent,
          transparent 10px,
          #eee 10px,
          #eee 12px);
      z-index: -1;
    }

    #toVideoButton,
    #backButton {
      font-size: 1em;
      padding: 10px 20px;
      background: #ff4081;
      color: white;
      border: none;
      border-radius: 10px;
      margin-top: 20px;
      cursor: pointer;
    }

    #toVideoButton:hover,
    #backButton:hover {
      background-color: #e73370;
    }

    #videoWishes {
      display: none;
      max-width: 100%;
      margin-top: 30px;
      color: #c71585;
      flex-direction: column;
    }

    #videoWishes.active {
      display: flex;
    }

    #videoWishes h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }

    video {
      width: 100%;
      max-height: 400px;
      border-radius: 12px;
      box-shadow: 0 0 20px #ffb6c1cc;
    }

    #popper-container,
    #balloon-container {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 10;
    }

    .balloon {
      position: absolute;
      bottom: -60px;
      width: 30px;
      height: 50px;
      border-radius: 50% 50% 45% 45%;
      background-color: red;
      animation: floatUp linear forwards;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0);
        opacity: 1;
      }

      100% {
        transform: translateY(-120vh);
        opacity: 0;
      }
    }

    .popper {
      position: absolute;
      bottom: 0;
      width: 12px;
      height: 18px;
      opacity: 0.9;
      animation-timing-function: ease-out;
    }

    .triangle {
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-bottom: 16px solid yellow;
    }

    .circle {
      border-radius: 50%;
      background: orange;
      width: 14px;
      height: 14px;
    }

    .color1 {
      background: #f94144;
    }

    .color2 {
      background: #f3722c;
    }

    .color3 {
      background: #f9c74f;
    }

    .color4 {
      background: #90be6d;
    }

    .color5 {
      background: #577590;
    }

    .color6 {
      background: #43aa8b;
    }

    @keyframes popperFloat {
      0% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 1;
      }

      100% {
        transform: translate(var(--x), -110vh) rotate(var(--rot));
        opacity: 0;
      }
    }

    @keyframes slideInFromRight {
      0% {
        opacity: 0;
        transform: translateX(100%);
      }

      100% {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes slideInFromLeft {
      0% {
        opacity: 0;
        transform: translateX(-100%);
      }

      100% {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .slideInFromRight {
      animation: slideInFromRight 1s ease forwards;
    }

    .slideInFromLeft {
      animation: slideInFromLeft 1s ease forwards;
    }

    /* Mobile Responsive Styling */
    @media (max-width: 600px) {
      #countdownTitle {
        font-size: 1.5em;
      }

      #countdown {
        font-size: 3em;
      }

      #surpriseBtn {
        font-size: 1.2em;
        padding: 10px 15px;
      }

      #birthdayMessage h1 {
        font-size: 2em;
      }

      #birthdayMessage h2 {
        font-size: 1.2em;
      }

      #birthdayMessage p {
        font-size: 1em;
        padding: 1rem;
      }

      #videoWishes h1 {
        font-size: 1.4em;
      }

      video {
        height: auto;
        max-height: 250px;
      }

      #toVideoButton,
      #backButton {
        font-size: 0.95em;
        padding: 10px;
        width: 100%;
      }
    }
  </style>
</head>

<body>

  <h1 id="countdownTitle">Countdown to Your Birthday!</h1>
  <div id="countdown">5</div>
  <button id="surpriseBtn">üéÅ Open Surprise üéÅ</button>

  <div id="birthdayMessage" class="section">
    <h1>üéâ Happy Birthday! üéâ</h1>
    <h2>Kuttuu...‚ù§Ô∏è</h2>
   <p>
      <b>Hey Kuttuüíô</b> <br>
      Wish you the happiest birthday filled with love, laughter, and everything your heart desires. On this special day,
      I just want you to know how deeply you mean to me. No matter what life brings‚Äîthrough every high and low, every
      smile and every tear‚ÄîI‚Äôll always be right by your side. Your happiness is mine, and your sadness is something
      we‚Äôll face together. You‚Äôre never alone in this journeü´Ç. Let‚Äôs grow, dream, and succeed side by side, hand in
      hand. Today is all about you, and I hope it's as amazing as your heart is. Happy birthday, my love.üíïüòò
    </p>
    <button id="toVideoButton">Tap Me for Magic ‚ú®</button>
  </div>

  <div id="videoWishes" class="section">
    <h1>Your People Have Something to Sayüíå</h1>
    <video controls autoplay>
      <source src="assets/test.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <button id="backButton">üîô Back</button>
  </div>

  <div id="popper-container"></div>
  <!-- <div id="balloon-container"></div> -->

  <script>
    const countdownEl = document.getElementById("countdown");
    const countdownTitle = document.getElementById("countdownTitle");
    const surpriseBtn = document.getElementById("surpriseBtn");
    const balloonContainer = document.getElementById("balloon-container");
    const popperContainer = document.getElementById("popper-container");

    const birthdaySection = document.getElementById("birthdayMessage");
    const videoSection = document.getElementById("videoWishes");
    const toVideoBtn = document.getElementById("toVideoButton");
    const backBtn = document.getElementById("backButton");
    const birthdayMessageParagraph = birthdaySection.querySelector("p");

    let countdown = 5;
    let balloonInterval;

    const timer = setInterval(() => {
      countdown--;
      countdownEl.textContent = countdown;

      if (countdown <= 0) {
        clearInterval(timer);
        clearInterval(balloonInterval);
        countdownEl.textContent = "üéÅ";
        surpriseBtn.style.display = "inline-block";
      }
    }, 1000);

    function createBalloon() {
      const balloon = document.createElement("div");
      balloon.className = "balloon";
      balloon.style.left = Math.random() * 100 + "vw";
      balloon.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
      balloon.style.animationDuration = (Math.random() * 3 + 4) + "s";
      balloonContainer.appendChild(balloon);
      setTimeout(() => balloon.remove(), 7000);
    }

    balloonInterval = setInterval(createBalloon, 300);

    function createPopper() {
      const popper = document.createElement("div");
      popper.classList.add("popper");

      const shapes = ['rect', 'triangle', 'circle'];
      const shape = shapes[Math.floor(Math.random() * shapes.length)];

      if (shape === 'triangle') {
        popper.classList.add("triangle");
      } else {
        popper.classList.add("color" + (Math.floor(Math.random() * 6) + 1));
        if (shape === 'rect') {
          popper.style.width = '12px';
          popper.style.height = '18px';
        } else if (shape === 'circle') {
          popper.style.width = '14px';
          popper.style.height = '14px';
          popper.style.borderRadius = '50%';
        }
      }

      popper.style.left = Math.random() * window.innerWidth + 'px';
      popper.style.setProperty('--x', (Math.random() * 200 - 100) + 'px');
      popper.style.setProperty('--rot', (Math.random() * 720 - 360) + 'deg');
      popper.style.animation = `popperFloat ${(3 + Math.random() * 3).toFixed(2)}s forwards`;

      return popper;
    }

    function startPoppers() {
      let count = 0;
      const maxPoppers = 100;
      const interval = setInterval(() => {
        if (count >= maxPoppers) {
          clearInterval(interval);
          return;
        }
        const popper = createPopper();
        popperContainer.appendChild(popper);
        popper.addEventListener("animationend", () => popper.remove());
        count++;
      }, 50);
    }

    surpriseBtn.addEventListener("click", () => {
      countdownTitle.style.display = 'none';
      countdownEl.style.display = 'none';
      surpriseBtn.style.display = 'none';

      birthdaySection.classList.add("active");

      birthdayMessageParagraph.classList.remove('slideInFromRight');
      void birthdayMessageParagraph.offsetWidth;
      birthdayMessageParagraph.classList.add('slideInFromRight');

      startPoppers();
    });

    toVideoBtn.addEventListener("click", () => {
      birthdaySection.classList.remove("active");
      videoSection.classList.remove("slideInFromLeft");
      void videoSection.offsetWidth;
      videoSection.classList.add("active", "slideInFromLeft");
    });

    backBtn.addEventListener("click", () => {
      videoSection.classList.remove("active");
      birthdaySection.classList.add("active");
    });
  </script>
</body>

</html>
